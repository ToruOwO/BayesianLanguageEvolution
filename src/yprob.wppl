// probability distribution over outputs y for each h in H

// all holistic language mappings
let all_holistics = [{'11': '00', '01': '00', '10': '00', '00': '00'}, {'11': '01', '01': '00', '10': '00', '00': '00'}, {'11': '10', '01': '00', '10': '00', '00': '00'}, {'11': '11', '01': '00', '10': '00', '00': '00'}, {'11': '00', '01': '00', '10': '01', '00': '00'}, {'11': '01', '01': '00', '10': '01', '00': '00'}, {'11': '10', '01': '00', '10': '01', '00': '00'}, {'11': '11', '01': '00', '10': '01', '00': '00'}, {'11': '00', '01': '00', '10': '10', '00': '00'}, {'11': '01', '01': '00', '10': '10', '00': '00'}, {'11': '10', '01': '00', '10': '10', '00': '00'}, {'11': '11', '01': '00', '10': '10', '00': '00'}, {'11': '00', '01': '00', '10': '11', '00': '00'}, {'11': '01', '01': '00', '10': '11', '00': '00'}, {'11': '10', '01': '00', '10': '11', '00': '00'}, {'11': '11', '01': '00', '10': '11', '00': '00'}, {'11': '00', '01': '01', '10': '00', '00': '00'}, {'11': '01', '01': '01', '10': '00', '00': '00'}, {'11': '10', '01': '01', '10': '00', '00': '00'}, {'11': '11', '01': '01', '10': '00', '00': '00'}, {'11': '00', '01': '01', '10': '01', '00': '00'}, {'11': '01', '01': '01', '10': '01', '00': '00'}, {'11': '10', '01': '01', '10': '01', '00': '00'}, {'11': '11', '01': '01', '10': '01', '00': '00'}, {'11': '00', '01': '01', '10': '10', '00': '00'}, {'11': '01', '01': '01', '10': '10', '00': '00'}, {'11': '10', '01': '01', '10': '10', '00': '00'}, {'11': '11', '01': '01', '10': '10', '00': '00'}, {'11': '00', '01': '01', '10': '11', '00': '00'}, {'11': '01', '01': '01', '10': '11', '00': '00'}, {'11': '10', '01': '01', '10': '11', '00': '00'}, {'11': '11', '01': '01', '10': '11', '00': '00'}, {'11': '00', '01': '10', '10': '00', '00': '00'}, {'11': '01', '01': '10', '10': '00', '00': '00'}, {'11': '10', '01': '10', '10': '00', '00': '00'}, {'11': '11', '01': '10', '10': '00', '00': '00'}, {'11': '00', '01': '10', '10': '01', '00': '00'}, {'11': '01', '01': '10', '10': '01', '00': '00'}, {'11': '10', '01': '10', '10': '01', '00': '00'}, {'11': '11', '01': '10', '10': '01', '00': '00'}, {'11': '00', '01': '10', '10': '10', '00': '00'}, {'11': '01', '01': '10', '10': '10', '00': '00'}, {'11': '10', '01': '10', '10': '10', '00': '00'}, {'11': '11', '01': '10', '10': '10', '00': '00'}, {'11': '00', '01': '10', '10': '11', '00': '00'}, {'11': '01', '01': '10', '10': '11', '00': '00'}, {'11': '10', '01': '10', '10': '11', '00': '00'}, {'11': '11', '01': '10', '10': '11', '00': '00'}, {'11': '00', '01': '11', '10': '00', '00': '00'}, {'11': '01', '01': '11', '10': '00', '00': '00'}, {'11': '10', '01': '11', '10': '00', '00': '00'}, {'11': '11', '01': '11', '10': '00', '00': '00'}, {'11': '00', '01': '11', '10': '01', '00': '00'}, {'11': '01', '01': '11', '10': '01', '00': '00'}, {'11': '10', '01': '11', '10': '01', '00': '00'}, {'11': '11', '01': '11', '10': '01', '00': '00'}, {'11': '00', '01': '11', '10': '10', '00': '00'}, {'11': '01', '01': '11', '10': '10', '00': '00'}, {'11': '10', '01': '11', '10': '10', '00': '00'}, {'11': '11', '01': '11', '10': '10', '00': '00'}, {'11': '00', '01': '11', '10': '11', '00': '00'}, {'11': '01', '01': '11', '10': '11', '00': '00'}, {'11': '10', '01': '11', '10': '11', '00': '00'}, {'11': '11', '01': '11', '10': '11', '00': '00'}, {'11': '00', '01': '00', '10': '00', '00': '01'}, {'11': '01', '01': '00', '10': '00', '00': '01'}, {'11': '10', '01': '00', '10': '00', '00': '01'}, {'11': '11', '01': '00', '10': '00', '00': '01'}, {'11': '00', '01': '00', '10': '01', '00': '01'}, {'11': '01', '01': '00', '10': '01', '00': '01'}, {'11': '10', '01': '00', '10': '01', '00': '01'}, {'11': '11', '01': '00', '10': '01', '00': '01'}, {'11': '00', '01': '00', '10': '10', '00': '01'}, {'11': '01', '01': '00', '10': '10', '00': '01'}, {'11': '10', '01': '00', '10': '10', '00': '01'}, {'11': '11', '01': '00', '10': '10', '00': '01'}, {'11': '00', '01': '00', '10': '11', '00': '01'}, {'11': '01', '01': '00', '10': '11', '00': '01'}, {'11': '10', '01': '00', '10': '11', '00': '01'}, {'11': '11', '01': '00', '10': '11', '00': '01'}, {'11': '00', '01': '01', '10': '00', '00': '01'}, {'11': '01', '01': '01', '10': '00', '00': '01'}, {'11': '10', '01': '01', '10': '00', '00': '01'}, {'11': '11', '01': '01', '10': '00', '00': '01'}, {'11': '00', '01': '01', '10': '01', '00': '01'}, {'11': '01', '01': '01', '10': '01', '00': '01'}, {'11': '10', '01': '01', '10': '01', '00': '01'}, {'11': '11', '01': '01', '10': '01', '00': '01'}, {'11': '00', '01': '01', '10': '10', '00': '01'}, {'11': '01', '01': '01', '10': '10', '00': '01'}, {'11': '10', '01': '01', '10': '10', '00': '01'}, {'11': '11', '01': '01', '10': '10', '00': '01'}, {'11': '00', '01': '01', '10': '11', '00': '01'}, {'11': '01', '01': '01', '10': '11', '00': '01'}, {'11': '10', '01': '01', '10': '11', '00': '01'}, {'11': '11', '01': '01', '10': '11', '00': '01'}, {'11': '00', '01': '10', '10': '00', '00': '01'}, {'11': '01', '01': '10', '10': '00', '00': '01'}, {'11': '10', '01': '10', '10': '00', '00': '01'}, {'11': '11', '01': '10', '10': '00', '00': '01'}, {'11': '00', '01': '10', '10': '01', '00': '01'}, {'11': '01', '01': '10', '10': '01', '00': '01'}, {'11': '10', '01': '10', '10': '01', '00': '01'}, {'11': '11', '01': '10', '10': '01', '00': '01'}, {'11': '00', '01': '10', '10': '10', '00': '01'}, {'11': '01', '01': '10', '10': '10', '00': '01'}, {'11': '10', '01': '10', '10': '10', '00': '01'}, {'11': '11', '01': '10', '10': '10', '00': '01'}, {'11': '00', '01': '10', '10': '11', '00': '01'}, {'11': '01', '01': '10', '10': '11', '00': '01'}, {'11': '10', '01': '10', '10': '11', '00': '01'}, {'11': '11', '01': '10', '10': '11', '00': '01'}, {'11': '00', '01': '11', '10': '00', '00': '01'}, {'11': '01', '01': '11', '10': '00', '00': '01'}, {'11': '10', '01': '11', '10': '00', '00': '01'}, {'11': '11', '01': '11', '10': '00', '00': '01'}, {'11': '00', '01': '11', '10': '01', '00': '01'}, {'11': '01', '01': '11', '10': '01', '00': '01'}, {'11': '10', '01': '11', '10': '01', '00': '01'}, {'11': '11', '01': '11', '10': '01', '00': '01'}, {'11': '00', '01': '11', '10': '10', '00': '01'}, {'11': '01', '01': '11', '10': '10', '00': '01'}, {'11': '10', '01': '11', '10': '10', '00': '01'}, {'11': '11', '01': '11', '10': '10', '00': '01'}, {'11': '00', '01': '11', '10': '11', '00': '01'}, {'11': '01', '01': '11', '10': '11', '00': '01'}, {'11': '10', '01': '11', '10': '11', '00': '01'}, {'11': '11', '01': '11', '10': '11', '00': '01'}, {'11': '00', '01': '00', '10': '00', '00': '10'}, {'11': '01', '01': '00', '10': '00', '00': '10'}, {'11': '10', '01': '00', '10': '00', '00': '10'}, {'11': '11', '01': '00', '10': '00', '00': '10'}, {'11': '00', '01': '00', '10': '01', '00': '10'}, {'11': '01', '01': '00', '10': '01', '00': '10'}, {'11': '10', '01': '00', '10': '01', '00': '10'}, {'11': '11', '01': '00', '10': '01', '00': '10'}, {'11': '00', '01': '00', '10': '10', '00': '10'}, {'11': '01', '01': '00', '10': '10', '00': '10'}, {'11': '10', '01': '00', '10': '10', '00': '10'}, {'11': '11', '01': '00', '10': '10', '00': '10'}, {'11': '00', '01': '00', '10': '11', '00': '10'}, {'11': '01', '01': '00', '10': '11', '00': '10'}, {'11': '10', '01': '00', '10': '11', '00': '10'}, {'11': '11', '01': '00', '10': '11', '00': '10'}, {'11': '00', '01': '01', '10': '00', '00': '10'}, {'11': '01', '01': '01', '10': '00', '00': '10'}, {'11': '10', '01': '01', '10': '00', '00': '10'}, {'11': '11', '01': '01', '10': '00', '00': '10'}, {'11': '00', '01': '01', '10': '01', '00': '10'}, {'11': '01', '01': '01', '10': '01', '00': '10'}, {'11': '10', '01': '01', '10': '01', '00': '10'}, {'11': '11', '01': '01', '10': '01', '00': '10'}, {'11': '00', '01': '01', '10': '10', '00': '10'}, {'11': '01', '01': '01', '10': '10', '00': '10'}, {'11': '10', '01': '01', '10': '10', '00': '10'}, {'11': '11', '01': '01', '10': '10', '00': '10'}, {'11': '00', '01': '01', '10': '11', '00': '10'}, {'11': '01', '01': '01', '10': '11', '00': '10'}, {'11': '10', '01': '01', '10': '11', '00': '10'}, {'11': '11', '01': '01', '10': '11', '00': '10'}, {'11': '00', '01': '10', '10': '00', '00': '10'}, {'11': '01', '01': '10', '10': '00', '00': '10'}, {'11': '10', '01': '10', '10': '00', '00': '10'}, {'11': '11', '01': '10', '10': '00', '00': '10'}, {'11': '00', '01': '10', '10': '01', '00': '10'}, {'11': '01', '01': '10', '10': '01', '00': '10'}, {'11': '10', '01': '10', '10': '01', '00': '10'}, {'11': '11', '01': '10', '10': '01', '00': '10'}, {'11': '00', '01': '10', '10': '10', '00': '10'}, {'11': '01', '01': '10', '10': '10', '00': '10'}, {'11': '10', '01': '10', '10': '10', '00': '10'}, {'11': '11', '01': '10', '10': '10', '00': '10'}, {'11': '00', '01': '10', '10': '11', '00': '10'}, {'11': '01', '01': '10', '10': '11', '00': '10'}, {'11': '10', '01': '10', '10': '11', '00': '10'}, {'11': '11', '01': '10', '10': '11', '00': '10'}, {'11': '00', '01': '11', '10': '00', '00': '10'}, {'11': '01', '01': '11', '10': '00', '00': '10'}, {'11': '10', '01': '11', '10': '00', '00': '10'}, {'11': '11', '01': '11', '10': '00', '00': '10'}, {'11': '00', '01': '11', '10': '01', '00': '10'}, {'11': '01', '01': '11', '10': '01', '00': '10'}, {'11': '10', '01': '11', '10': '01', '00': '10'}, {'11': '11', '01': '11', '10': '01', '00': '10'}, {'11': '00', '01': '11', '10': '10', '00': '10'}, {'11': '01', '01': '11', '10': '10', '00': '10'}, {'11': '10', '01': '11', '10': '10', '00': '10'}, {'11': '11', '01': '11', '10': '10', '00': '10'}, {'11': '00', '01': '11', '10': '11', '00': '10'}, {'11': '01', '01': '11', '10': '11', '00': '10'}, {'11': '10', '01': '11', '10': '11', '00': '10'}, {'11': '11', '01': '11', '10': '11', '00': '10'}, {'11': '00', '01': '00', '10': '00', '00': '11'}, {'11': '01', '01': '00', '10': '00', '00': '11'}, {'11': '10', '01': '00', '10': '00', '00': '11'}, {'11': '11', '01': '00', '10': '00', '00': '11'}, {'11': '00', '01': '00', '10': '01', '00': '11'}, {'11': '01', '01': '00', '10': '01', '00': '11'}, {'11': '10', '01': '00', '10': '01', '00': '11'}, {'11': '11', '01': '00', '10': '01', '00': '11'}, {'11': '00', '01': '00', '10': '10', '00': '11'}, {'11': '01', '01': '00', '10': '10', '00': '11'}, {'11': '10', '01': '00', '10': '10', '00': '11'}, {'11': '11', '01': '00', '10': '10', '00': '11'}, {'11': '00', '01': '00', '10': '11', '00': '11'}, {'11': '01', '01': '00', '10': '11', '00': '11'}, {'11': '10', '01': '00', '10': '11', '00': '11'}, {'11': '11', '01': '00', '10': '11', '00': '11'}, {'11': '00', '01': '01', '10': '00', '00': '11'}, {'11': '01', '01': '01', '10': '00', '00': '11'}, {'11': '10', '01': '01', '10': '00', '00': '11'}, {'11': '11', '01': '01', '10': '00', '00': '11'}, {'11': '00', '01': '01', '10': '01', '00': '11'}, {'11': '01', '01': '01', '10': '01', '00': '11'}, {'11': '10', '01': '01', '10': '01', '00': '11'}, {'11': '11', '01': '01', '10': '01', '00': '11'}, {'11': '00', '01': '01', '10': '10', '00': '11'}, {'11': '01', '01': '01', '10': '10', '00': '11'}, {'11': '10', '01': '01', '10': '10', '00': '11'}, {'11': '11', '01': '01', '10': '10', '00': '11'}, {'11': '00', '01': '01', '10': '11', '00': '11'}, {'11': '01', '01': '01', '10': '11', '00': '11'}, {'11': '10', '01': '01', '10': '11', '00': '11'}, {'11': '11', '01': '01', '10': '11', '00': '11'}, {'11': '00', '01': '10', '10': '00', '00': '11'}, {'11': '01', '01': '10', '10': '00', '00': '11'}, {'11': '10', '01': '10', '10': '00', '00': '11'}, {'11': '11', '01': '10', '10': '00', '00': '11'}, {'11': '00', '01': '10', '10': '01', '00': '11'}, {'11': '01', '01': '10', '10': '01', '00': '11'}, {'11': '10', '01': '10', '10': '01', '00': '11'}, {'11': '11', '01': '10', '10': '01', '00': '11'}, {'11': '00', '01': '10', '10': '10', '00': '11'}, {'11': '01', '01': '10', '10': '10', '00': '11'}, {'11': '10', '01': '10', '10': '10', '00': '11'}, {'11': '11', '01': '10', '10': '10', '00': '11'}, {'11': '00', '01': '10', '10': '11', '00': '11'}, {'11': '01', '01': '10', '10': '11', '00': '11'}, {'11': '10', '01': '10', '10': '11', '00': '11'}, {'11': '11', '01': '10', '10': '11', '00': '11'}, {'11': '00', '01': '11', '10': '00', '00': '11'}, {'11': '01', '01': '11', '10': '00', '00': '11'}, {'11': '10', '01': '11', '10': '00', '00': '11'}, {'11': '11', '01': '11', '10': '00', '00': '11'}, {'11': '00', '01': '11', '10': '01', '00': '11'}, {'11': '01', '01': '11', '10': '01', '00': '11'}, {'11': '10', '01': '11', '10': '01', '00': '11'}, {'11': '11', '01': '11', '10': '01', '00': '11'}, {'11': '00', '01': '11', '10': '10', '00': '11'}, {'11': '01', '01': '11', '10': '10', '00': '11'}, {'11': '10', '01': '11', '10': '10', '00': '11'}, {'11': '11', '01': '11', '10': '10', '00': '11'}, {'11': '00', '01': '11', '10': '11', '00': '11'}, {'11': '01', '01': '11', '10': '11', '00': '11'}, {'11': '10', '01': '11', '10': '11', '00': '11'}, {'11': '11', '01': '11', '10': '11', '00': '11'}]

// all compositional language mappings
let all_compositionals = [{'11': '11', '00': '00', '10': '10', '01': '01'}, {'11': '11', '00': '11', '10': '11', '01': '11'}, {'11': '00', '00': '00', '10': '00', '01': '00'}, {'11': '00', '00': '11', '10': '01', '01': '10'}]

// all language mappings
let all_h = all_holistics.concat(all_compositionals);

// check if x maps to y in h
let has_mapping = function(h, x, y) {
	return h.x === y ? true : false;
};

// p(y|x, hn)
let y_cond_xh = function(error, h, x ,y) {
	return has_mapping(h, x, y) ? 1-error : error/3;
};

// p(yn|xn)
let y_cond_x = function(error, x, y) {
	return reduce(function(total, h) {
		return total + y_cond_xh(error, h, x, y)*h.p;
	}, 0, all_h);
};